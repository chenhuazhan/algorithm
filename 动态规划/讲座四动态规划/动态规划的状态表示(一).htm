<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0047)http://www.chinaschool.org/aosai/lwjl/dtgh1.htm -->
<HTML><HEAD><TITLE></TITLE>
<META http-equiv=Content-Type content="text/html; charset=gb2312">
<STYLE type=text/css>A:link {
	COLOR: #ffcc66; FONT-FAMILY: "宋体"; TEXT-DECORATION: none
}
A:visited {
	COLOR: #ffcc66; FONT-FAMILY: "宋体"; TEXT-DECORATION: none
}
A:hover {
	COLOR: #ffcc66; TEXT-DECORATION: none
}
TH {
	FONT-SIZE: 9pt
}
TD {
	FONT-SIZE: 9pt
}
P {
	FONT-SIZE: 9pt
}
EM {
	COLOR: #3333ff
}
A.titlelink:link {
	FONT-SIZE: 9pt; COLOR: #3333ff; FONT-FAMILY: "宋体"; TEXT-DECORATION: none
}
A.titlelink:visited {
	FONT-SIZE: 9pt; COLOR: #3333ff; FONT-FAMILY: "宋体"; TEXT-DECORATION: none
}
A.titlelink:hover {
	FONT-SIZE: 9pt; COLOR: #3333ff; FONT-FAMILY: "宋体"; TEXT-DECORATION: none
}
.pt9 {
	FONT-SIZE: 9pt; COLOR: #3333ff; FONT-FAMILY: "宋体"
}
</STYLE>

<SCRIPT language=JavaScript>

<!-- 版本识别
  var ns4
  var ie4
//-->


<!-- 栏目
  var channel = new Array("sgsy","mszx","xspd","jtjj","ykrd","jgtd","etly","jyxx","sgfwt","sglt");
  var num=channel.length;
//-->

  var myyellow="#ffff00";
  var mygreen="#99cc99";
//-->
</SCRIPT>

<SCRIPT language=JavaScript>
<!--
  ns4=(document.layers)?true:false;
  ie4=(document.all)?true:false;
//-->
</SCRIPT>

<SCRIPT language=JavaScript src="dtgh1.files/setcolor_xspd.js"></SCRIPT>

<SCRIPT language=JavaScript src="dtgh1.files/settitle_xspd.js"></SCRIPT>

<SCRIPT language=JavaScript src="dtgh1.files/ad_banner_xspd.js"></SCRIPT>

<SCRIPT language=JavaScript>
<!--
if(ns4)
{
  document.captureEvents(Event.MOUSEOVER)
  document.captureEvents(Event.MOUSEOUT)
  document.onmouseover = setColor
  document.onmouseout = setColorOrg
}
//-->
</SCRIPT>

<SCRIPT language=JavaScript src="dtgh1.files/layer4ns_xspd.js"></SCRIPT>

<META content="MSHTML 5.50.4134.100" name=GENERATOR></HEAD>
<BODY bgColor=#ffffff leftMargin=0 topMargin=0 marginheight="0" marginwidth="0">
<TABLE class=title111 cellSpacing=0 cellPadding=0 width=777 align=center 
border=0>
  <TBODY>
  <TR>
    <TD width=271 background=dtgh1.files/hr2.gif height=70><IMG height=62 
      src="dtgh1.files/sg_logo.gif" width=271></TD>
    <TD width=508>
      <DIV align=center><IMG height=68 src="dtgh1.files/title_sub.gif" 
      width=504></DIV></TD></TR>
  <TR>
    <TD colSpan=2></TD></TR>
  <TR>
    <TD colSpan=2 height=15>
      <P><IMG height=8 src="dtgh1.files/0905-1_06.gif" 
  width="100%"></P></TD></TR></TBODY></TABLE>
<DIV align=center>
<DIV align=center>
<TABLE style="FONT-SIZE: 11pt" height=372 cellSpacing=0 cellPadding=5 width=569 
border=0>
  <TBODY>
  <TR>
    <TD style="FONT-SIZE: 10pt; LINE-HEIGHT: 150%" width=548 
      height=362><B><FONT color=#000080></FONT></B>
      <P align=center><FONT 
      style="FONT-SIZE: 15pt"><B>动态规划的状态表示(一)</B></FONT></P>
      <P align=right><B>中国科技大学计算机系----黄浩达</B></P>
      <P align=left><B><FONT 
      color=#800080><BR></FONT></B><B>一、引言</B><BR>　　问题求解技术，包括两个方面的内容：表示和搜索。在这两个方面的内容中，搜索是重点，表示是基础。不同的状态表示对搜索的效率会产生极大的影响。一个粗糙的状态表示可能使得搜索时要对状态变换进行更多的操作，而采取简洁的表示，搜索时进行的操作可能就显得方便、高效，甚至由于状态表示准确描述了问题的本质，给人以启示，从而找到更好的搜索技术。动态规划是求解问题的一个重要技术，它的状态表示在整个算法中有着举足轻重的作用，对整个算法的影响也远比其他搜索技术中的状态表示更为深刻。<BR>本文以实例对动态规划的状态表示进行一些讨论。<BR><BR><B>二、 
      动态规划对状态表示的要求</B><BR>　　在动态规划程序设计中，我们主要利用了问题的两个性质：最优子结构和子问题重叠。最优子结构指问题的最优解包含了子问题的最优解，它是动态规划方法可行的理论基础。而一个问题具有子问题重叠性质是指用递归算法自顶向下解这个问题时，并不总是产生新的子问题，有些子问题被重复求解多次。<BR>　　因为最优子结构性质，动态规划求问题最优解时，可以转化为求子问题的最优解，而对解决过的问题，动态规划则记录它的结果，当再次遇上已解决的问题，就可以直接利用结果。子问题重叠性质保证了这样做是有意义的。但一般的搜索技术，对于某个子问题不管是否已经解决过，只要遇上，就会再次对这个子问题进行求解。<BR>　　很明显，动态规划与一般搜索技术最大不同的地方就是记录了已求解过的问题的结果。这里包含了两个方面的内容 
      ：子问题的记录和子问题结果的记录。其中，子问题的记录是最重要，也是最为复杂的，它就是通常我们所说的状态表示。<BR>通常我们用一个数、一组数或一个向量来实现状态表示。但无论采取什么方法，从动态规划的原理来看，状态表示要满足两个要求：正确、合理描述子问题和描述的子问题满足最优子结构性质；从算法实现角度来看，状态表示必须能够用基本数据结构实现并且能满足空间要求。<BR>下面通过两个问题来阐述动态规划对状态表示的要求。<BR><BR><BR><BR><B>问题一：</B>存在一个数字三角形，从顶到底有多条路径， 
      每一步可沿左斜线向下或沿右斜线向下。路径所经过的数字之和称为路径得分，要求求出最小路径得分。<BR>例： 1 1&nbsp;<BR>2 3 2 
      3&nbsp;<BR>3 2 3 3 2 3&nbsp;<BR>3 8 1 2 3 8 1 
      2&nbsp;<BR>最小路径得分=6&nbsp;<BR>状态表示1-1&nbsp;<BR>最自然的作法是用一元组（X）描述问题，D（X）表示从顶到达第X层的得分。但是一元组（X）描述的子问题不能满足最优子结构性质， 
      因为D（X）的最优解可能不包含子问题D（X-I）的最优解。这样，动态规划方法是无法在状态表示1-1上应用的。<BR>状态表示 
      1-2<BR>用二元组D（X，Y）描述问题，D（X，Y）表示到达第X层第Y个位置时的得分，那么D（X，Y）的最优解包含了子问题D（X-1，Y）或D（X-1，Y-1）的最优解，状态转移方程为<BR>D（X，Y）= 
      Max {D（X-1，Y），D（X-1，Y-1）} + A[X，Y]<BR>D（1，1）= 
      A[1,1]<BR>这样，最小路径得分可以通过比较底层的分数求得。<BR>一般情况下，我们找到的状态表示应能刻划子问题的特征，困难的是如何找到描述的子问题能满足最优子结构性质的状态表示，而这一点恰恰是决定该问题能否应用动态规划方法的重要因素。状态表示1-1描述的问题是正确的，但它不能满足最优子结构性质，使得无法用它来建立动态规划数学模型。状态分析的过程实际上是分析问题最优子结构的过程，不同的状态表示正是从不同的角度去试图刻划问题的最优子结构。只有状态表示描述的子问题能满足最优子结构性质，我们才能在此基础上正确的建立起动态规划数学模型。<BR><BR><B>问题二 
      ：</B> 
      在茫茫大海中，有一座荒芜人烟的小岛，它有着肥沃的土地，终年四季如春。在许多年的沉寂后，移民者终于踏上了这块土地，接下来的事情就是对土地进行垦荒。小岛呈不规则多边形形状，为了便于管理，移民者决定将小岛划分为三角形区域且三角形区域的个数要最少，这些三角形区域的顶点必须是小岛的顶点。 
      显然， 用来描述小岛的多边形的任两个顶点不重合，任两条边不相交，三角形区域内只有陆地。<BR>要求输入多边形的顶点数 
      n和它的顺时针坐标，返回最小区域数和具体的划分方法。<BR>例 ： 给定如左图所示的小岛， 可有右图所示的两种划分， 
      （1）划分为3个区域，是最优的。（2）划分为4个区域。<BR><BR><BR>图（1） 
      图（2）<BR>状态表示2-1<BR>根据多边形的自然特征，一个多边形顶点的顺时针序列将正确的描述多边形的特征。例如在图（1）中，序列（1，2， 
      …,N-1 
      ,N）可以表示多边形A，序列（1，2，…，K）可以表示多边形B，同样序列（K，K+1，…，N）可以表示多边形C。<BR>由于在问题二中，多边形的顶点的序号已经隐含了顶点之间的顺序，我们只要记录多边形的顶点，而不必记录顶点顺序。基于这个性质，我们可以用一个十进制数来表示一种状态。一个十进制数通过它对应的二进制数来描述多边形。二进制数X第k位上的0、1值代表这个多边形是否包含第k个顶点。例如 
      （011011）2的1，2，4，5位上数值是1，则 
      这个二进制数代表多边形（1，2，4，5），用相应的十进制数表示就是27。<BR>于是用一元组（A）描述多边形， 
      D（A）表示多边形A的划分区域数。多边形B、C是由多边形划分A而成的两个多边形，那么，这种划分下，多边形的最优划分必然包含多边形B、C的最优划分，问题满足最优子结构性质。<BR>那么状态转移方程可以表示为<BR>D（A）= 
      Min(D（B）+ D（C）)<BR>子问题的空间复杂度为O(2n)，当n=20,基本堆空间就溢出了（本文假设基本堆空间是219=524288 
      byte并且每个子问题的状态表示只要1 byte） ，动态规划只能处理顶点数小于20的多边形。<BR>状态表示2-2<BR>定义2-2 
      多边形（A1,A2,…,Ak）是由多边形（1，2，…，N）划分而来的多边形，我们称多边形（A1,A2,…,Ak）为半连续多边形，当且仅当Ai+1 = 
      Ai+1 ,<BR>k&gt;i &gt;1。图4中多边形（1，4，5，6，7）就是一个半连续多边形。<BR>性质2-2 
      对于一个多边形，它的任一顶点a只有两种划分情况：一是顶点a的两个相邻顶点连接，一是顶点a与其他顶点连接，并且这两种划分必有其一。如图3，顶点1的划分情况：顶点1的相邻顶点（2，9）连接；顶点1与顶点4连接。<BR><BR>我们可以用一个三元组(X,Y,Z)描述半连续多边形，D(X,Y,Z)表示半连续多边形（X，Y，Y+1，…，Z）的划分区域数。<BR>根据性质2-1，对半连续多边形（X, 
      Y, Z）可以只考虑顶点X 
      的划分，划分后的多边形仍然是半连续多边形，于是，状态表示2-2不但可以描述问题的特征，也可以正确描述子问题的特征。考虑到（X，Y，Z）最优划分包含了它的子半连续多边形的最优划分，状态表示2-2描述的子问题满足最优子结构性质。<BR>根据定义，初始多边形是一个半连续多边形，表示为（1，2，N）。状态转移方程为<BR>D(X,Y,Z) 
      = Min {D(Y,Y+1,Z)+g(X,Y,Z), D(X,J,Z)+D(X,Y,J)}, Z&lt;J&lt;Y<BR>f(J,I,I) = 
      0, n+1&gt;I&gt;J&gt;0,<BR>当X,Y,Z在一条直线时，g(X,Y,Z) = 0, 否则g(X,Y,Z) = 
      1。<BR>状态表示2-2的子问题空间只有 O(n3)，动态规划最多可以处理顶点数 
      80的多边形。以下给出求半连续多边形最优划分区域数的函数。<BR>[算法2-2]：<BR>function Dynamic(x, y, z : 
      integer) : integer;&nbsp;<BR>{求半连续多边形（x,y, z）的最优划分}<BR>var j, tot : 
      integer;<BR>begin<BR>if D[x, y, z] = 255 then<BR>if y - z = 1 
      then&nbsp;<BR>if x,y,z三点共线 then D[x, y, z] := 0 else D[x,y,z] := 
      1<BR>else<BR>begin<BR>if 顶点y与顶点z连接合法 then<BR>begin<BR>D[x,y,z] := 
      Dynamic(y,y+1,z);<BR>If x,y,z 三点不共线 then D[x,y,z] := 
      D[x,y,z]+1;<BR>End;&nbsp;<BR>for j := y + 1 to z - 1 do {j 
      是顶点x要连接的顶点}<BR>if 顶点x与顶点j 连接合法then<BR>begin<BR>Tot := Dynamic(x, y, j) + 
      Dynamic(x, j, z);&nbsp;<BR>{子多边形的最优划分}<BR>if Tot &lt; D[x, y, z] 
      then<BR>begin<BR>D[x, y, z] := Tot;<BR>end;<BR>end;<BR>end;<BR>Dynamic := 
      D[x, y, 
      z];<BR>end;<BR><BR>　　上述两种状态表示都能正确描述多边形，并且描述的多边形都能满足最优子结构性质，从动态规划原理要求来看，已经满足要求了，在状态表示2-1、状态表示2-2基础上可以正确的建立动态规划数学模型。但是，具体实现方面仍有一些问题没有解决。<BR><BR><BR>　　从图中可以看到，状态表示2-1的空间要求随着顶点数n的增大急剧增长，正如前面所分析的，当n=20时，常用的堆空间就溢出了。而随着顶点数n的增大，状态2-2的空间要求的增大相对就缓慢多了，n一直到81堆空间才溢出。空间方面的要求强烈制约了的动态规划的处理问题能力。因此，应用动态规划时，我们采用的状态表示不仅要满足动态规划原理，还必须考虑实现状态表示的空间要求。这两方面体现了对状态表示正确性、可行性的要求，状态表示必须满足这两个要求，动态规划算法才能实现。<BR></P>
      <CENTER>
      <CENTER>
      <HR>
      </CENTER></CENTER></TD>
    <TD width=6 height=362>
      <DIV align=center>
      <TABLE height="98%" cellSpacing=0 cellPadding=0 width=1 bgColor=#ff9900 
      border=0>
        <TBODY>
        <TR>
          <TD width=1>　</TD></TR></TBODY></TABLE></DIV></TD>
    <TD width=34 height=362></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=777 align=center border=0>
  <TBODY>
  <TR>
    <TD align=middle colSpan=2>&nbsp;</TD></TR>
  <TR>
    <TD class=unnamed2 align=middle colSpan=2><A 
      href="http://www.chinaschool.org/index.asp">网站导航</A> | <A 
      href="http://www.chinaschool.org/sggc/index.htm">关于曙光</A> | <A 
      href="mailto:sgts@21cn.com">联系我们</A> | <A 
      href="mailto:webmaster@chinaschool.org">请提意见</A> <BR>Copyright &copy; FuJian 
      Sunshine Educational Info. Co.,Ltd.<BR>福建曙光教育资讯有限公司 版权所有 
</TD></TR></TBODY></TABLE></DIV></DIV></BODY></HTML>
